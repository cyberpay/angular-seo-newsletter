"use strict";angular.module("hugsbrugs.angular-seo-newsletter-configs",[]).config(["$translateProvider",function($translateProvider){$translateProvider.translations("en",{ERROR_SAVING_SUBSCRIPTION:"Error while saving your mail.",EMAIL_ALREADY_SUBSCRIBER:"Your email is already saved !",EMAIL_JUNK:"You email is not trustable : please provide another one.",EMAIL_INVALID:"Your email is onvalid, please double check it !",EMAIL_EMPTY:"Your email is empty.",EMAIL_NOT_SET:"Your email is missing.",INTERNAL_SERVER_ERROR:"An internal error occured, please try again later.",DEFAULT_HEADER_TEXT:"I'm a title",DEFAULT_CALL_ACTION_TEXT:"I'm a call to action",DEFAULT_SUB_TEXT:"I'm a sub text",DEFAULT_EMAIL_PLACEHOLDER:"I want your mail",DEFAULT_SUCCESS_TEXT:"Thank you sweety",DEFAULT_ERROR_TEXT:"Unknown error, if you have moment please report this error through our <a ng-href='https://hugo.maugey.fr/fr/contact'>contact form</a>. Sorry for that."}),$translateProvider.translations("fr",{ERROR_SAVING_SUBSCRIPTION:"Erreur lors de l'enregistrement de votre email",EMAIL_ALREADY_SUBSCRIBER:"Votre email est déjà enregitré !",EMAIL_JUNK:"Votre email n'est pas digne de confiance, veuillez renseigner une autre adresse mail.",EMAIL_INVALID:"Votre email est invalide, veuillez vérifier que vous n'avez pas fait d'erreur.",EMAIL_EMPTY:"Votre email est vide !",EMAIL_NOT_SET:"Impossible de récupérer votre adresse mail !",INTERNAL_SERVER_ERROR:"Une erreur interne est survenue, mercei de réessayer ultérieument.",DEFAULT_HEADER_TEXT:"Je suis un titre",DEFAULT_CALL_ACTION_TEXT:"Je suis un call to action",DEFAULT_SUB_TEXT:"Je suis un sous titre",DEFAULT_EMAIL_PLACEHOLDER:"Votre email",DEFAULT_SUCCESS_TEXT:"Merci bien, à très bientôt !",DEFAULT_ERROR_TEXT:"Erreur inconnue, si vous avez un moment, merci de nous prévenir à travers le <a ng-href='https://hugo.maugey.fr/fr/contact'>formulaire de contact</a>.<br> Désolé pour le désagrément."})}]);
"use strict";angular.module("hugsbrugs.angular-seo-newsletter-directives",[]).provider("hugsbrugsSeoNewsletterConfig",[function(){var _config={y_offset:50,image:"/img/SEO-Beginners-Guide.jpg",header_text:"DEFAULT_HEADER_TEXT",call_action_text:"DEFAULT_CALL_ACTION_TEXT",sub_text:"DEFAULT_SUB_TEXT",email_placeholder:"DEFAULT_EMAIL_PLACEHOLDER",success_text:"DEFAULT_SUCCESS_TEXT",error_text:"DEFAULT_ERROR_TEXT",api_endpoint:"/fake_endpoint",cookie_expire:"1 day"};this.config=function(config){angular.forEach(config,function(value,key){_config[key]=value})},this.$get=function(){return _config}}]).directive("hugsbrugsSeoNewsletter",["$interval","$timeout","$log","$http","$cookies","$filter",function($interval,$timeout,$log,$http,$cookies,$filter){return{restrict:"E",controllerAs:"ctrl",scope:{model:"=ngModel",showmodalext:"="},templateUrl:"/js/templates/pop-up-newsletter.html",controller:["$scope","$element","$translate","$log","$http","$cookies","hugsbrugsSeoNewsletterConfig","$sce",function($scope,$element,$translate,$log,$http,$cookies,hugsbrugsSeoNewsletterConfig,$sce){var config=hugsbrugsSeoNewsletterConfig,ctrl=this;console.log($scope.model),ctrl.y_offset=$scope.model.y_offset||config.y_offset,ctrl.header_text=$scope.model.header_text||config.header_text,ctrl.call_action_text=$scope.model.call_action_text||config.call_action_text,ctrl.sub_text=$scope.model.sub_text||config.sub_text,ctrl.email_placeholder=$scope.model.email_placeholder||config.email_placeholder,ctrl.image=$scope.model.image||config.image,ctrl.success_text=$scope.model.success_text||config.success_text,ctrl.error_text=$scope.model.error_text||config.error_text,ctrl.api_endpoint=$scope.model.api_endpoint||config.api_endpoint,ctrl.cookie_expire=$scope.model.cookie_expire||config.cookie_expire,ctrl.register_newsletter=function(){ctrl.hide_error(),$http.post(ctrl.api_endpoint,{email:$scope.email}).then(function(data){ctrl.hide_form(),ctrl.show_success(),$cookies.put("is_subscriber","true",{expires:$scope.get_cookie_expire_date("10 month")}),$scope.hide_modal(2e3)})["catch"](function(error){$log.log("error",error),ctrl.show_error(error.message)})},ctrl.hide_error=function(){var elm=angular.element(window.document.getElementById("seo-newsletter-error"));elm.css("display","none"),ctrl.error_text=$scope.model.error_text||config.error_text},ctrl.show_error=function(text){text.length>0&&(ctrl.error_text=text);var elm=angular.element(window.document.getElementById("seo-newsletter-error"));elm.css("display","block")},ctrl.show_success=function(){var elm=angular.element(window.document.getElementById("seo-newsletter-success"));elm.css("display","block")},ctrl.hide_form=function(){var elm=angular.element(window.document.getElementById("seo-newsletter-questions"));elm.css("display","none")}}],link:function(scope,element,attrs){function getMouseXY(e){return IE?(tempX=event.clientX+document.body.scrollLeft,tempY=event.clientY+document.body.scrollTop):(tempX=e.pageX,tempY=e.pageY),tempY<scope.ctrl.y_offset&&"true"===show_popup&&scope.show_modal(),!0}var show_popup=$cookies.get("show_popup")||"true",is_subscriber=$cookies.get("is_subscriber")||"false";if($log.log("show_popup",show_popup),$log.log("is_subscriber",is_subscriber),$log.log("coucou"),$log.log("showmodalext",scope.show_modal_ext),"false"===is_subscriber&&"true"===show_popup){var IE=!!document.all;document.captureEvents(Event.MOUSEMOVE),document.onmousemove=getMouseXY;var tempX=0,tempY=0,modal=angular.element(window.document.getElementById("newsletter-modal")),stop_interval=null;scope.show_modal=function(){$interval.cancel(stop_interval),modal.css("display","block")},scope.show_modal_ext=scope.show_modal_ext||{},scope.show_modal_ext.trigger_modal=function(){console.log("scope.show_modal_ext.trigger_modal"),scope.show_modal()},scope.hide_modal=function(timeout){timeout=timeout||0,$cookies.put("show_popup","false",{expires:scope.get_cookie_expire_date(scope.ctrl.cookie_expire)}),show_popup="false",stop_interval=$interval(function(){show_popup=$cookies.get("show_popup")||"true",$log.log("interval",show_popup);var is_subscriber=$cookies.get("is_subscriber");"true"===is_subscriber&&$interval.cancel(stop_interval)},1e3),$timeout(function(){modal.css("display","none")},timeout)};var cancel_click=!1,elm=angular.element(window.document.getElementById("newsletter-modal-sub"));element.bind("click",function(event){cancel_click||scope.hide_modal()}),elm.bind("mouseenter",function(event){cancel_click=!0}),elm.bind("mouseleave",function(event){cancel_click=!1}),scope.get_cookie_expire_date=function(shortcode){var expiration_date=null,infos=shortcode.split(" "),qty=parseInt(infos[0]),period=infos[1],allowed_periods=["second","minute","hour","day","month"];if(allowed_periods.indexOf(period)>-1)switch(period){case"second":expiration_date=new Date,expiration_date.setTime(expiration_date.getTime()+1e3*qty);break;case"minute":expiration_date=new Date,expiration_date.setTime(expiration_date.getTime()+60*qty*1e3);break;case"hour":expiration_date=new Date,expiration_date.setTime(expiration_date.getTime()+60*qty*60*1e3);break;case"day":expiration_date=new Date,expiration_date.setTime(expiration_date.getTime()+24*qty*60*60*1e3);break;case"month":expiration_date=new Date,expiration_date.setTime(expiration_date.getTime()+30*qty*24*60*60*1e3)}else expiration_date=new Date,expiration_date.setDate(expiration_date.getDate()+1);return expiration_date}}}}}]);
"use strict";angular.module("hugsbrugs.angular-seo-newsletter-templates",[]).run(["$templateCache",function($templateCache){}]);
"use strict";angular.module("hugsbrugs.angular-seo-newsletter",["hugsbrugs.angular-seo-newsletter-configs","hugsbrugs.angular-seo-newsletter-directives","hugsbrugs.angular-seo-newsletter-templates"]);
angular.module("hugsbrugs.angular-seo-newsletter-templates", []).run(["$templateCache", function($templateCache) {$templateCache.put("/js/templates/pop-up-newsletter-2.html","<div id=\"at-cv-lightbox\" class=\"at-cv-lightbox at-cv-goal-email at-center-layout-0 at-cv-with-image at-center-animateIn\"><div id=\"at-cv-lightbox-inner\"><div class=\"at4win\" style=\"position: relative\" id=\"at-cv-lightbox-win\"><div id=\"image-darkener\"></div><div class=\"at4win-header\" id=\"at-cv-lightbox-header\"><a class=\"at4-close\" href=\"#\" title=\"Close\" id=\"at-cv-lightbox-close\">×</a></div><div id=\"at-cv-lightbox-content\" class=\"at4win-content\"><div class=\"at-cv-lightbox-layout-content\"><div id=\"at-cv-lightbox-message-holder\"><div id=\"at-cv-lightbox-message\"><span style=\"font-size: 28.35px\"><span style=\"font-style: italic; font-size: 28.35px\"><span style=\"font-size: 28.35px; font-style: italic\"><span style=\"font-style: italic; font-size: 28.35px\"><span style=\"font-size: 28.35px; font-style: italic\">Subscribe to TutorialSavvy</span></span></span></span></span></div></div><div class=\"at-cv-goal-container\"><span><form id=\"at-cvlbx-form\" name=\"Newsletter\" ng-submit=\"register_newsletter()\" novalidate><input type=\"email\" name=\"email\" id=\"at-cv-lightbox-input\" class=\"at-cv-input\" autocapitalize=\"off\" autocorrect=\"off\" required=\"required\" placeholder=\"Your email\" ng-model=\"email\"> <button id=\"at-cv-lightbox-submit\" type=\"submit\" class=\"at-cv-button at-cv-submit\" style=\"background: rgb(102, 102, 102) none repeat scroll 0% 0%\">Submit</button></form><p class=\"at-email-disclosure\" style=\"display: none\">By clicking the button above, you agree to the information above being sent to AddThis US servers. <a target=\"_blank\" href=\"//www.addthis.com//privacy/privacy-policy#international\">Learn more.</a></p></span></div></div></div><div class=\"at-cv-footer\"><a class=\"at-branding-logo\" href=\"//www.addthis.com/website-tools/overview?utm_source=AddThis%20Tools&amp;utm_medium=image&amp;utm_campaign=Marketing%20tool%20logo\" title=\"Powered by AddThis\" target=\"_blank\"><div class=\"at-branding-icon\"></div><span class=\"at-branding-addthis\">AddThis</span></a></div></div></div><div class=\"at-cv-lightbox-background\" style=\"background: rgb(102, 102, 102) none repeat scroll 0% 0%; opacity: 0.8\"></div></div>");
$templateCache.put("/js/templates/pop-up-newsletter.html","<div style=\"display: none\" class=\"newsletter-modal underlay\" id=\"newsletter-modal\"><div class=\"newsletter-modal-flex newsletter-modal-flex-activated\" id=\"newsletter-modal-flex\"><div class=\"newsletter-modal-sub\" id=\"newsletter-modal-sub\"><div class=\"modal-title\"><h3 ng-bind-html=\"ctrl.header_text | translate\"></h3></div><div class=\"modal-body\"><p><img class=\"image\" ng-src=\"{{ctrl.image}}\"></p><p class=\"headline\" ng-bind-html=\"ctrl.call_action_text | translate\"></p><p class=\"subheadline\" ng-bind-html=\"ctrl.sub_text | translate\"></p><div><form name=\"Newsletter\" ng-submit=\"ctrl.register_newsletter()\" novalidate><div><div style=\"display:none\" id=\"seo-newsletter-error\" class=\"response\" ng-bind-html=\"ctrl.error_text | translate\">ERROR</div><div style=\"display:none\" id=\"seo-newsletter-success\" class=\"response\" ng-bind-html=\"ctrl.success_text | translate\">SUCCESS</div></div><div class=\"mc-field-group updated\" id=\"seo-newsletter-questions\"><input type=\"email\" name=\"email\" ng-model=\"email\" placeholder=\"{{ctrl.email_placeholder | translate}}\"> <input type=\"submit\" class=\"button\" id=\"mc-embedded-subscribe\" name=\"subscribe\" ng-disabled=\"Newsletter.$invalid\"></div></form></div></div></div></div></div>");}]);